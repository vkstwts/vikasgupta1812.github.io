<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Parallelization in R</title>
    <meta name="description" content="" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="../assets/css/font-awesome.min.css?v=18cf216c79" />
    <link rel="stylesheet" href="../assets/css/foundation.min.css?v=18cf216c79" />
    <link rel="stylesheet" href="../assets/css/fauxghost.min.css?v=18cf216c79" />

    <script src="../assets/js/modernizr.min.js?v=18cf216c79"></script>
    <script src="../assets/js/config.min.js?v=18cf216c79"></script>

    <link rel="icon" sizes="16x16 32x32 48x48 64x64" href="../assets/favicons/favicon.ico?v=18cf216c79" />
    <link rel="apple-touch-icon" href="../assets/favicons/touch-icon-iphone.png?v=18cf216c79">
    <link rel="apple-touch-icon" sizes="76x76" href="../assets/favicons/touch-icon-ipad.png?v=18cf216c79">
    <link rel="apple-touch-icon" sizes="120x120" href="../assets/favicons/touch-icon-iphone-retina.png?v=18cf216c79">
    <link rel="apple-touch-icon" sizes="152x152" href="../assets/favicons/touch-icon-ipad-retina.png?v=18cf216c79">

    <link rel="canonical" href="index.html" />
    
    <meta property="og:site_name" content="Data Analysis and Machine Learning" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Parallelization in R" />
    <meta property="og:description" content="Running R scripts in parallel R Parallel package. library(parallel)   inputs and operations to be performed on each input inputs  &amp;lt;- 1:10   processInput  &amp;lt;- function(i) {     i * i } Find the number of cores numCores  &amp;lt;- detectCores..." />
    <meta property="og:url" content="http://localhost:2368/parallelization-in-r/" />
    <meta property="article:published_time" content="2014-11-18T02:01:21.833Z" />
    <meta property="article:modified_time" content="2014-11-18T02:01:21.833Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Parallelization in R" />
    <meta name="twitter:description" content="Running R scripts in parallel R Parallel package. library(parallel)   inputs and operations to be performed on each input inputs  &amp;lt;- 1:10   processInput  &amp;lt;- function(i) {     i * i } Find the number of cores numCores  &amp;lt;- detectCores..." />
    <meta name="twitter:url" content="http://localhost:2368/parallelization-in-r/" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Data Analysis and Machine Learning",
    "author": {
        "@type": "Person",
        "name": "Vikas Gupta",
        "url": "http://localhost:2368/author/vikas",
        "sameAs": null
    },
    "headline": "Parallelization in R",
    "url": "http://localhost:2368/parallelization-in-r/",
    "datePublished": "2014-11-18T02:01:21.833Z",
    "dateModified": "2014-11-18T02:01:21.833Z",
    "description": "Running R scripts in parallel R Parallel package. library(parallel)   inputs and operations to be performed on each input inputs  &amp;lt;- 1:10   processInput  &amp;lt;- function(i) {     i * i } Find the number of cores numCores  &amp;lt;- detectCores..."
}
    </script>

    <meta name="generator" content="Ghost 0.5" />
    <link rel="alternate" type="application/rss+xml" title="Data Analysis and Machine Learning" href="../rss.1" />

    <script>
      if (fauxGhostConfig.google_analytics_tracking_id)
      {
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', fauxGhostConfig.google_analytics_tracking_id, 'auto');
        ga('send', 'pageview');
      }
    </script>

    <script type="text/javascript">
      link = document.createElement( "link" );
      link.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/styles/' + fauxGhostConfig.highlight_style + '.min.css';
      link.type = "text/css";
      link.rel = "stylesheet";
      link.media = "screen,print";

      document.getElementsByTagName( "head" )[0].appendChild( link );
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/highlight.min.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>

</head>
<body class="post-template">
    <div id="at_page_surround">
      <div id="at_body">
        <div class='off-canvas-wrap' data-offcanvas>
          <div class='inner-wrap' id="menu_inner_wrap">
            <a class='at_off_canvas_toggle left-off-canvas-toggle' href='index.html#' id="show_menu_link"><span class='fa fa-bars'></span></a>

            
<aside class="left-off-canvas-menu" id="left-off-canvas-menu">
	<ul class="off-canvas-list" id="off-canvas-list">
		<li><label id="main_menu_label"></label></li>
</ul>
</aside>
<script>
	var aside = document.getElementById('left-off-canvas-menu');
	if (fauxGhostConfig.sidebar)
	{
		document.getElementById('main_menu_label').appendChild( document.createTextNode(fauxGhostConfig.sidebar.title) );

		var list = document.getElementById('off-canvas-list');

		fauxGhostConfig.sidebar.items.forEach(function(item){
			var newHtml = '<li><a class="at_menu_item" href="http://localhost:2368/parallelization-in-r/';			if&#32;(item.url)				newHtml&#32;=&#32;newHtml&#32;+&#32;item.url&#32;+&#32;'">';
			else if (item.tag)
				newHtml = newHtml + fauxGhostConfig.site_url + '/tag/' + item.tag + '">';

			if (item.faicon)
				newHtml = newHtml + '<span class="fa ' + item.faicon + '"></span>'
			else if (item.image)
				newHtml = newHtml + '<img src="http://localhost:2368/assets/images/'&#32;+&#32;item.image&#32;+&#32;'" height="16px" width="16px"/>'

			newHtml=newHtml + '&nbsp;' + item.title + '</a></li>';

			list.innerHTML = list.innerHTML + newHtml;
		});
	}
</script>

<div id="at_header">
	<div class="row hide-for-small-only header_row_width">
		<div class="medium-5 columns end">
			<a href="../index.html"><div class="at_logo_text">Data Analysis and Machine Learning</div></a>
		</div>
		<div class="medium-4 columns text-right end">
			<div class="at_icon_menu" id="top_social_menu">
				<a class="at_icon_menu_item" href="../rss.1" id="top_rss"><span class="fa fa-rss"></span></a>
			</div>
		</div>
		<div class="medium-2 columns end">
			<div id="at_search">
				<div class="row">
					<div class="large-12 large-centered columns">
						<input class="at_search_input" type="text" placeholder="Search...">
					</div>
				</div>
				<div class="at_search_results"></div>
			</div>		</div>
	</div>

	<div class="row show-for-small-only">
		<div class="small-9 small-centered columns">
			<a href="../index.html"><div class="at_logo_text">Data Analysis and Machine Learning</div></a>
		</div>
	</div>

	<div class="row show-for-small-only">
			<div id="at_search">
				<div class="row">
					<div class="large-12 large-centered columns">
						<input class="at_search_input" type="text" placeholder="Search...">
					</div>
				</div>
				<div class="at_search_results"></div>
			</div>	</div>
</div>

<script>
  if (fauxGhostConfig.socialLinks)
  {
    fauxGhostConfig.socialLinks.forEach(function(link)
    {
      var extraHtml = '<a class="at_icon_menu_item" href="http://localhost:2368/parallelization-in-r/'&#32;+&#32;link.href&#32;+&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;'" ><span class="fa ' + link.icon + '"></span></a>';
      var div = document.getElementById('top_social_menu');
      div.innerHTML = extraHtml + div.innerHTML;
    });
  }

	if (!fauxGhostConfig.rss)
	{
		var div = document.getElementById('top_social_menu');
		var rssDiv = document.getElementById('top_rss');
		div.removeChild(rssDiv);
	}
</script>

<div id="at_showcase">
	<div class="at_blog_cover" >
	    <div class="at_showcase_overlay ">
			<div class="row">
				<div class="large-12 large-centered columns">
					<div class="at_block">
						<div class="text-center">
				            <div class="at_block">
				                <article class="post">
				                    <div class="at_post_header">
				                        <h2 class="at_post_title">Parallelization in R</h2>
				                    </div>
				                    <div class="at_post_meta">
				                        <span class="at_featured_post"><span class="fa fa-bookmark"></span> <span>Featured</span></span>
				                        <span class="at_post_author"><span class="fa fa-user"></span> <a href="http://localhost:2368/author/vikas/">Vikas Gupta</a></span>
				                        <time class="at_post_time" datetime="2014-11-17"><span class="fa fa-calendar"></span> 17 Nov 2014</time>
				                        <span class="at_post_tags"> </span>
				                    </div>
					                <div class="at_post_share" id="share">
					                    <h6 class="at_post_share_title">Share this post</h6>
					                    <a class="at_post_share_icon" href="http://twitter.com/share?text=Parallelization%20in%20R&url=http://localhost:2368/parallelization-in-r/"
					                        onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"
																	id="share_twitter">
					                        <span class="fa fa-twitter-square"></span>
					                    </a>
					                    <a class="at_post_share_icon" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/parallelization-in-r/"
					                        onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"
																	id="share_facebook">
					                        <span class="fa fa-facebook-square"></span>
					                    </a>
					                    <a class="at_post_share_icon" href="https://plus.google.com/share?url=http://localhost:2368/parallelization-in-r/"
					                       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;"
																id="share_googleplus">
					                        <span class="fa fa-google-plus-square"></span>
					                    </a>
					                </div>

													<script>
														if (fauxGhostConfig.sharing)
														{
															document.getElementById('share').style.display = 'block';

															if (!fauxGhostConfig.sharing.twitter)
																document.getElementById('share').removeChild(document.getElementById('share_twitter'));

															if (!fauxGhostConfig.sharing.facebook)
																document.getElementById('share').removeChild(document.getElementById('share_facebook'));

															if (!fauxGhostConfig.sharing.googlePlus)
																document.getElementById('share').removeChild(document.getElementById('share_googleplus'));
														}
														else
															document.getElementById('share').style.display = 'none';
													</script>

				                </article>
				            </div>
						</div>
					</div>
				</div>
			</div>
	    </div>
	</div>
</div>

<div id="at_mainbody" class="at_post" role="main">
    <div class="row">
        <div class="large-12 columns">
            <div class="at_block">
                <article class="post">
                  <div class="at_post_content">
                      <p>Running R scripts in parallel</p>

<p>R <a href="https://stat.ethz.ch/R-manual/R-devel/library/parallel/doc/parallel.pdf">Parallel</a> package.</p>

<pre><code class="language-r">library(parallel)  
</code></pre>

<p>inputs and operations to be performed on each input</p>

<pre><code class="language-r">inputs  &lt;- 1:10  
processInput  &lt;- function(i) {  
  i * i
}
</code></pre>

<p>Find the number of cores</p>

<pre><code class="language-r">numCores  &lt;- detectCores()  
</code></pre>

<pre><code class="language-r">results = mclapply(inputs, processInput, mc.cores = numCores)  
</code></pre>

<p>For Windwos OS only  </p>

<pre><code class="language-r"># the above won't work on Windows, but this will:
cl &lt;- makeCluster(numCores)  
results = parLapply(cl, inputs, processInput)  
stopCluster(cl)  
</code></pre>

<p>Difference between <code>mclapply</code> and <code>parLapply</code> can be found on this <a href="http://stackoverflow.com/questions/17196261/understanding-the-differences-between-mclapply-and-parlapply-in-r">StackOverflow post</a></p>

<p>As an alternative, we can also use the <a href="http://cran.r-project.org/web/packages/foreach/vignettes/foreach.pdf">foreach package</a>, which lets us use a familiar <code>for</code> loop syntax, automatically parallelizing your code under the hood:</p>

<pre><code class="language-r">library(foreach)  
library(doParallel)  
library(parallel)

numCores &lt;- detectCores()  
cl &lt;- makeCluster(numCores)  
registerDoParallel(cl)

inputs &lt;- 1:10  
processInput &lt;- function(i) {  
  i * i
}

results &lt;- foreach(i=inputs) %dopar% {  
  processInput(i)
}
</code></pre>
                  </div>
                  <div class="at_author_details" id="author_details">
                    <div class="at_author_name">
                      <h3>About the Author</h3>
                    </div>
                    <div class="at_author">
                        <div class="row">
                            <div class="medium-2 columns show-for-medium-up">
                                <div class="at_author_image">
                                    <img src="index.html" alt="Vikas Gupta">
                                </div>
                            </div>
                            <div class="medium-10 columns">
                                <div class="at_author_name">
                                  <span class="at_author_name_large"><a href="http://localhost:2368/author/vikas/">Vikas Gupta</a></span>
                                </div>
                                <div class="at_author_bio">
                                    <p></p>
                                </div>
                            </div>
                        </div>
                    </div>
                  </div>

                  <script>
                    if (fauxGhostConfig.show_author_details)
                      document.getElementById('author_details').style.display = 'block';
                    else
                      document.getElementById('author_details').style.display = 'none';
                  </script>

                  <div class="at_post_comments">
                      <div id="at_disqus">
                          <div id="disqus_thread">
                                      <a class="button small radius" href="index.html#" onclick="atPost.loadDisqus('');return false;"><span class="fa fa-comments"></span> Discuss</a>
                          </div>
                      </div>
                  </div>
                </article>
            </div>
        </div>
    </div>
</div>

<div id="at_footer">
	<div class="row">
		<div class="large-12 columns text-center">
			<div class="at_block">
				<div class="copyright">
					<span>&copy; 2014 <a href="../index.html">Data Analysis and Machine Learning</a>
				</div>
				<div class="poweredby" id="powered_by_ghost">
					<span>Proudly published with <a class="icon-ghost" href="http://ghost.org">Ghost</a> using the
						<a class="icon-ghost" href="https://www.moomoo.io/fauxghost">
						<span><img src='../assets/images/FauxGhost_16x16.png?v=18cf216c79'/></span>
						 <span>FauxGhost theme</span></a>
				</div>
					<div class="poweredby" id="email_me">
					<span>Want to get in touch? <a class="icon-ghost" id="email_link" href="index.html"/></span>
				</div>

				<div class="at_icon_menu hide-for-small-only" id="bottom_social_menu_large">
					<a class="at_icon_menu_item" href="../rss.1" id="bottom_rss_large"><span class="fa fa-rss"> <span>RSS</span></span></a>
				</div>

				<div class="at_icon_menu show-for-small-only" id="bottom_social_menu_small">
					<a class="at_icon_menu_item" href="../rss.1" id="bottom_rss_small"><span class="fa fa-rss"></span></a>
				</div>

				<script>
					if (fauxGhostConfig.show_published_by_ghost)
						document.getElementById('powered_by_ghost').style.display = 'block';
					else
						document.getElementById('powered_by_ghost').style.display = 'none';

					if (fauxGhostConfig.email)
				  {
						document.getElementById('email_me').style.display = 'block';
						document.getElementById('email_link').href = "mailto:" + fauxGhostConfig.email.address;
						document.getElementById('email_link').appendChild( document.createTextNode(fauxGhostConfig.email.name) );
					}
					else
						document.getElementById('email_me').style.display = 'none';

					var largeDiv = document.getElementById('bottom_social_menu_large');
					var smallDiv = document.getElementById('bottom_social_menu_small');

					if (fauxGhostConfig.socialLinks)
					{
						fauxGhostConfig.socialLinks.forEach(function(link)
						{
							var extraHtmlLarge = '<a class="at_icon_menu_item" href="http://localhost:2368/parallelization-in-r/'&#32;+&#32;link.href&#32;+								'" ><span class="fa ' + link.icon + '"></span> <span>' + link.name + '</span></a>';

							var extraHtmlSmall = '<a class="at_icon_menu_item" href="http://localhost:2368/parallelization-in-r/'&#32;+&#32;link.href&#32;+								'" ><span class="fa ' + link.icon + '"></span></a>';

							largeDiv.innerHTML = extraHtmlLarge + largeDiv.innerHTML;
							smallDiv.innerHTML = extraHtmlSmall + smallDiv.innerHTML;
						});
					}

					if (!fauxGhostConfig.rss)
					{
						var rssLargeDiv = document.getElementById('bottom_rss_large');
						var rssSmallDiv = document.getElementById('bottom_rss_small');

						largeDiv.removeChild(rssLargeDiv);
						smallDiv.removeChild(rssSmallDiv);
					}
				</script>

			</div>
		</div>
	</div>
</div>


            <a class='exit-off-canvas'></a>

          </div>
        </div>
      </div>
    </div>

    <script src="../assets/js/jquery.min.js?v=18cf216c79"></script>
    <script src="../assets/js/foundation.min.js?v=18cf216c79"></script>
    <script src="../assets/js/fauxghost.min.js?v=18cf216c79"></script>
    <script>
      $(document).foundation();

      if (!fauxGhostConfig.sidebar)
      {
        document.getElementById('menu_inner_wrap').removeChild(document.getElementById('show_menu_link'));
      }
    </script>

</body>
</html>
